(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{19:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(1),r=n(12),o=n.n(r),s=(n(19),n(7)),i=n.n(s),l=n(9),u=n(8),m=n(11),h=n(3),g=n(4),j=n(6),d=n(5),p=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={query:""},e.onHandleChange=function(t){var n=t.target.value;e.setState({query:n})},e.onFormSubmit=function(t){var n=e.state.query;t.preventDefault(),e.props.onSubmit(n)},e}return Object(g.a)(n,[{key:"render",value:function(){return Object(a.jsx)("header",{className:"Searchbar",children:Object(a.jsxs)("form",{className:"SearchForm",onSubmit:this.onFormSubmit,children:[Object(a.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(a.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(a.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:this.onHandleChange,value:this.query})]})})}}]),n}(c.Component),b=function(e){var t=e.image,n=e.onClick;return Object(a.jsx)("li",{className:"ImageGalleryItem",children:Object(a.jsx)("img",{onClick:function(){return n(t.largeImageURL,t.tags)},src:t.webformatURL,alt:t.tags,className:"ImageGalleryItem-image"})})},f=function(e){var t=e.images,n=e.onClick;return Object(a.jsx)("ul",{className:"ImageGallery",children:t.map((function(e,t){return Object(a.jsx)(b,{onClick:n,image:e},"".concat(e.id).concat(t))}))})},O=function(e,t){var n="https://pixabay.com/api/?key=".concat("19534909-4566fefb162e8faacd9cf503d","&q=").concat(e,"&image_type=photo&page=").concat(t,"&per_page=12");return fetch(n).then((function(e){if(200===e.status)return e.json()})).then((function(e){return e.hits}))},v=function(e){var t=e.onClick;return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("button",{onClick:t,className:"btnLoad",children:"Load more"})})},y=(n(21),n(13)),x=n.n(y),k=function(){return Object(a.jsx)("div",{className:"loader",children:Object(a.jsx)(x.a,{type:"ThreeDots",color:"#00BFFF",height:80,width:80})})},C=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={},e.escFunction=function(t){27===t.keyCode&&e.props.onClose()},e.componentDidMount=function(){document.addEventListener("keydown",e.escFunction,!1)},e.componentWillUnmount=function(){document.removeEventListener("keydown",e.escFunction,!1)},e}return Object(g.a)(n,[{key:"render",value:function(){return Object(a.jsx)("div",{className:"Overlay",onClick:this.props.onClose,children:Object(a.jsx)("div",{className:"Modal",children:Object(a.jsx)("img",{src:this.props.imageURL,alt:this.props.imageTags})})})}}]),n}(c.Component),S=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={loading:!1,images:[],page:1,query:"",largeImageURL:"",tags:""},e.getPhoto=function(){var t=Object(m.a)(i.a.mark((function t(n){var a,c,r=arguments;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r.length>1&&void 0!==r[1]?r[1]:1,e.setState({loading:!0}),t.next=4,O(n,a);case 4:c=t.sent,e.setState((function(e){return Object(u.a)(Object(u.a)({},e),{},{images:Object(l.a)(c),page:2,query:n,loading:!1,isOpenModal:!1})}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.loadMore=function(){var t=Object(m.a)(i.a.mark((function t(n){var a,c,r,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state,c=a.query,r=a.page,e.setState({loading:!0}),t.next=4,O(c,r);case 4:o=t.sent,e.setState((function(e){return Object(u.a)(Object(u.a)({},e),{},{images:[].concat(Object(l.a)(e.images),Object(l.a)(o)),page:e.page+1,loading:!1})})),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.openModal=function(t,n){e.setState({isOpenModal:!0,largeImageURL:t,tags:n})},e.closeModal=function(){e.setState({isOpenModal:!1})},e}return Object(g.a)(n,[{key:"render",value:function(){var e=this.state,t=e.images,n=e.loading,c=e.isOpenModal,r=e.largeImageURL,o=e.tags;return Object(a.jsxs)("div",{children:[Object(a.jsx)(p,{onSubmit:this.getPhoto}),n&&Object(a.jsx)(k,{}),Object(a.jsx)(f,{images:t,onClick:this.openModal}),t.length>0&&Object(a.jsx)(v,{onClick:this.loadMore}),c&&Object(a.jsx)(C,{onClose:this.closeModal,imageURL:r,imageTags:o})]})}}]),n}(c.Component);o.a.render(Object(a.jsx)(S,{}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.b1b9216d.chunk.js.map